package com.automan.siberia.limit;import com.google.common.util.concurrent.RateLimiter;/** * 令牌桶 * * @Author he.zhou * @Date 2021-03-15 */public class RateLimiterExample2 {    /**     * 每秒钟放入5个令牌，相当于每秒只允许执行5个请求     */    private static final RateLimiter RATE_LIMITER = RateLimiter.create(0.25);    public static void main(String[] args) {        for (int i = 0; i < 100; i++) {            int finalI = i;            new Thread(() -> {                RATE_LIMITER.acquire();                try {                    Thread.sleep(20000);                } catch (InterruptedException e) {                    e.printStackTrace();                }                System.out.println("=====" + finalI);            }).start();        }    }}